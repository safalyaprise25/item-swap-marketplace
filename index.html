<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Item Swap Marketplace — White & Purple Theme</title>
  <meta name="description" content="Item Swap Marketplace with white and purple theme.">
  <style>
    :root{
      /* White + Purple theme */
      --page-bg: #ffffff;           /* main background */
      --panel-bg: #fbf8ff;          /* card/panel background (very light purple) */
      --card-bg: #ffffff;           /* card background */
      --muted: #6b6b7a;             /* muted grey text */
      --text: #0f1724;              /* main text (dark) */
      --accent-purple: #6b46c1;     /* primary purple */
      --accent-purple-2: #9f7aea;   /* lighter purple */
      --accent-accent: #7c3aed;     /* deeper purple for gradients */
      --glass: rgba(107,70,193,0.06);
      --radius: 12px;
      --maxw: 1200px;
      --budget-threshold: 100;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--page-bg);
      color: var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding-bottom:40px;
    }

    /* Header / Navigation */
    header{
      max-width:var(--maxw);
      margin:18px auto;
      padding:12px;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      background: linear-gradient(180deg, rgba(124,58,237,0.04), rgba(124,58,237,0.01));
      border: 1px solid rgba(124,58,237,0.06);
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:12px;
      background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-2));
      display:flex;align-items:center;justify-content:center;
      font-weight:900;font-size:20px;color:white;
      box-shadow: 0 6px 18px rgba(107,70,193,0.12);
    }
    h1{margin:0;font-size:1.08rem}
    .nav{display:flex;gap:8px;align-items:center}
    .nav button{
      background:transparent;border:1px solid rgba(16,24,40,0.04);
      color:var(--muted);padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:700;
      transition:all .18s;
    }
    .nav button.active{
      background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-2));
      color:white;border:none;
      box-shadow: 0 8px 24px rgba(107,70,193,0.12);
    }

    .container{max-width:var(--maxw);margin:18px auto;padding:0 18px}

/* Welcome page */
    .welcome{
      display:flex;align-items:center;gap:20px;
      background: var(--panel-bg);
      padding:28px;border-radius:14px;border:1px solid rgba(124,58,237,0.04);
      box-shadow: 0 8px 30px rgba(16,24,40,0.04);
    }
    .hero-left{flex:1}
    .hero-right{width:360px;min-width:260px}
    .hero-title{font-size:1.6rem;margin:0 0 8px;color:var(--text)}
    .hero-sub{color:var(--muted);margin:0 0 16px}
    .cta{
      background: linear-gradient(90deg,var(--accent-purple),var(--accent-purple-2));
      color:#fff;padding:12px 16px;border-radius:12px;border:none;cursor:pointer;font-weight:800;
      box-shadow: 0 10px 30px rgba(107,70,193,0.12);
    }
    .features{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:12px}
    .feature{background:white;padding:10px;border-radius:8px;color:var(--muted);font-weight:700;border:1px solid rgba(16,24,40,0.03)}

/* Catalog / category layout */
    .categories{display:grid;gap:20px;margin-top:20px}
    .category-card{
      background: var(--panel-bg);
      padding:12px;border-radius:12px;border:1px solid rgba(16,24,40,0.03);
    }
    .cat-head{display:flex;align-items:center;justify-content:space-between}
    .cat-title{font-weight:900}
    .cat-desc{color:var(--muted);font-size:0.9rem}

/* grid inside category */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;margin-top:12px}
    .card{
      background:var(--card-bg);border-radius:12px;border:1px solid rgba(16,24,40,0.04);
      overflow:hidden;display:flex;flex-direction:column;min-height:290px;
      box-shadow: 0 6px 18px rgba(16,24,40,0.04);
    }
    .card .body{padding:12px 12px 6px}
    .name{font-weight:800;margin:0 0 6px;font-size:1rem;color:var(--text)}
    .price-row{display:flex;align-items:center;gap:8px;justify-content:space-between}
    .price{font-weight:900;color:var(--accent-purple);font-size:1rem}
    .budget{background: linear-gradient(90deg,var(--accent-purple-2),var(--accent-accent)); color:white; padding:6px 8px;border-radius:999px;font-weight:800;font-size:0.78rem}
    .image-wrap{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(124,58,237,0.02), rgba(124,58,237,0.00));height:160px;overflow:hidden}
    .image-wrap img{width:100%;height:100%;object-fit:cover;display:block}
    .meta{padding:10px 12px;color:var(--muted);font-size:0.86rem;display:flex;align-items:center;justify-content:space-between}
    .remove{background:transparent;border:1px solid rgba(16,24,40,0.04);color:var(--muted);padding:6px 8px;border-radius:8px;cursor:pointer}

/* Contact page */
    .contact-card{background:var(--panel-bg);padding:18px;border-radius:12px;border:1px solid rgba(16,24,40,0.03)}
    .contact-grid{display:grid;grid-template-columns:1fr 360px;gap:16px}
    .contact-form input, .contact-form textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(16,24,40,0.04);background:transparent;color:var(--text);margin-bottom:10px}
    .contact-info{color:var(--muted);font-size:0.95rem}

/* small screens */
    @media (max-width:880px){
      .contact-grid{grid-template-columns:1fr}
      .hero-right{display:none}
    }
    @media (max-width:720px){
      .grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}
      header{padding:10px}
      .welcome{flex-direction:column;align-items:flex-start}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">IS</div>
      <div>
        <h1>Item Swap Marketplace</h1>
        <div style="color:var(--muted);font-size:0.9rem">Swap • Save • Smile</div>
      </div>
    </div>

    <nav class="nav" aria-label="Main navigation">
      <button id="nav-welcome" class="active">Welcome</button>
      <button id="nav-catalog">Catalog</button>
      <button id="nav-contact">Contact</button>
    </nav>
  </header>

  <main class="container">
    <!-- ===== Welcome Page ===== -->
    <section id="page-welcome" class="welcome" aria-labelledby="welcome-heading">
      <div class="hero-left">
        <h2 id="welcome-heading" class="hero-title">Welcome to Item Swap Marketplace</h2>
        <p class="hero-sub">List, swap or buy items — organized categories with hundreds of sample items to explore. Budget-friendly tag highlights low-cost finds.</p>

        <div style="margin-top:14px">
          <button id="go-catalog" class="cta">Browse items now</button>
        </div>

        <div class="features" style="margin-top:16px">
          <div class="feature">Organized categories</div>
          <div class="feature">Budget-friendly tags</div>
          <div class="feature">Upload images or use URLs</div>
          <div class="feature">Reset & remove items</div>
        </div>
      </div>

      <div class="hero-right">
        <div style="background: linear-gradient(90deg,var(--accent-purple-2),var(--accent-purple)); padding:16px;border-radius:12px;color:white">
          <h3 style="margin:0 0 6px">Why swap?</h3>
          <p style="margin:0;color:rgba(255,255,255,0.95)">Give items a second life and save money. Start browsing the catalog (200 sample items — 50 per category).</p>
          <div style="margin-top:12px">
            <button id="demo-add-sample" style="background:white;padding:8px 10px;border-radius:10px;border:none;font-weight:800;cursor:pointer;color:var(--accent-purple)">Reset sample items</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Catalog Page ===== -->
    <section id="page-catalog" style="display:none;margin-top:18px">
      <div style="display:flex;gap:12px;align-items:center;justify-content:space-between">
        <div style="display:flex;gap:12px;align-items:center">
          <strong style="font-size:1.05rem">Catalog</strong>
          <div style="color:var(--muted)">Explore items by category (200 sample items — 50 each)</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <button id="btn-scroll-top" class="nav">Top</button>
        </div>
      </div>

      <div class="categories" id="categories"></div>
    </section>

    <!-- ===== Contact Page ===== -->
    <section id="page-contact" style="display:none;margin-top:18px">
      <div class="contact-card">
        <h2>Contact Us</h2>
        <div style="height:12px"></div>
        <div class="contact-grid">
          <div>
            <form class="contact-form" id="contact-form">
              <input id="c-name" type="text" placeholder="Your name" required />
              <input id="c-email" type="email" placeholder="Your email" required />
              <input id="c-subject" type="text" placeholder="Subject" />
              <textarea id="c-message" rows="6" placeholder="Message"></textarea>
              <div style="display:flex;gap:8px">
                <button type="submit" class="cta">Send (opens email)</button>
                <button type="button" id="contact-reset" class="nav">Reset</button>
              </div>
            </form>
          </div>

          <aside class="contact-info">
            <h3 style="margin-top:0;color:var(--text)">Get in touch</h3>
            <p>Email: <a href="mailto:info@itemswap.example" style="color:var(--accent-purple)">info@itemswap.example</a></p>
            <p>Phone: +91 93422 98598</p>
            <p>Address: Erode, Tamil Nadu, India</p>
            <div style="height:12px"></div>
            <p style="color:var(--muted)">We respond within 2 business days. For urgent matters, call the number above.</p>
          </aside>
        </div>
      </div>
    </section>
  </main>

  <script>
    /* ============================
       Navigation: show/hide pages
       ============================ */
    const navWelcome = document.getElementById('nav-welcome');
    const navCatalog = document.getElementById('nav-catalog');
    const navContact = document.getElementById('nav-contact');
    const pageWelcome = document.getElementById('page-welcome');
    const pageCatalog = document.getElementById('page-catalog');
    const pageContact = document.getElementById('page-contact');
    const navButtons = [navWelcome, navCatalog, navContact];

    function setActive(navBtn){
      navButtons.forEach(b => b.classList.remove('active'));
      navBtn.classList.add('active');
    }
    function showPage(pageName){
      pageWelcome.style.display = 'none';
      pageCatalog.style.display = 'none';
      pageContact.style.display = 'none';
      if(pageName === 'welcome'){ pageWelcome.style.display = ''; setActive(navWelcome); }
      else if(pageName === 'catalog'){ pageCatalog.style.display = ''; setActive(navCatalog); }
      else if(pageName === 'contact'){ pageContact.style.display = ''; setActive(navContact); }
      window.scrollTo({top:0, behavior:'smooth'});
    }

    navWelcome.addEventListener('click', ()=> showPage('welcome'));
    navCatalog.addEventListener('click', ()=> showPage('catalog'));
    navContact.addEventListener('click', ()=> showPage('contact'));
    document.getElementById('go-catalog').addEventListener('click', ()=> showPage('catalog'));
    document.getElementById('btn-scroll-top').addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    /* ============================
       Data: generate items
       50 items per category
       ============================ */
    const CATEGORIES = ['Toys','Books','Dress','Things'];
    const ITEMS_PER_CATEGORY = 50; // change value if you want more
    const SAMPLE_STORAGE_KEY = 'itemSwap.catalog.v3.whitepurple';

    function idGen(){ return 'it_' + Math.random().toString(36).slice(2,9); }

    function loadSaved(){
      try {
        const raw = localStorage.getItem(SAMPLE_STORAGE_KEY);
        if(raw) return JSON.parse(raw);
      } catch(e){}
      return null;
    }

    function saveCatalog(data){
      try { localStorage.setItem(SAMPLE_STORAGE_KEY, JSON.stringify(data)); } catch(e){}
    }

    function createItems(){
      const all = [];
      CATEGORIES.forEach(cat => {
        for(let i=1;i<=ITEMS_PER_CATEGORY;i++){
          let name = '';
          let price = 0;
          let imageText = '';
          if(cat === 'Toys'){
            name = `Toy ${i} — Fun Set`;
            price = randomInt(30,700);
            imageText = `Toy+${i}`;
          } else if(cat === 'Books'){
            const bookTypes = ['Story', 'Math', 'Science', 'Prog', 'Novel', 'Poem'];
            name = `${bookTypes[i % bookTypes.length]} Book ${i}`;
            price = randomInt(20,450);
            imageText = `Book+${i}`;
          } else if(cat === 'Dress'){
            const dressTypes = ['Casual', 'Party', 'Ethnic', 'Summer', 'Winter'];
            name = `${dressTypes[i % dressTypes.length]} Dress ${i}`;
            price = randomInt(80,1200);
            imageText = `Dress+${i}`;
          } else {
            const thingsTypes = ['Table','Speaker','Lamp','Vase','Chair','Clock'];
            name = `${thingsTypes[i % thingsTypes.length]} ${i}`;
            price = randomInt(50,2500);
            imageText = `Thing+${i}`;
          }
          const image = `https://via.placeholder.com/600x400/efe8ff/6b46c1?text=${encodeURIComponent(imageText)}`;
          all.push({ id:idGen(), category:cat, name, price, image, notes: '' });
        }
      });
      return all;
    }

    function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

    let catalog = loadSaved();
    if(!catalog){
      catalog = createItems();
      saveCatalog(catalog);
    }

    /* ============================
       Rendering: categories + items
       ============================ */
    const categoriesEl = document.getElementById('categories');
    const BUDGET = Number(getComputedStyle(document.documentElement).getPropertyValue('--budget-threshold')) || 100;

    function renderCatalog(){
      categoriesEl.innerHTML = '';
      CATEGORIES.forEach(cat => {
        const catBlock = document.createElement('section');
        catBlock.className = 'category-card';

        const catHead = document.createElement('div');
        catHead.className = 'cat-head';
        const titleWrap = document.createElement('div');
        const title = document.createElement('div'); title.className='cat-title'; title.textContent = cat;
        const count = catalog.filter(i=>i.category===cat).length;
        const desc = document.createElement('div'); desc.className='cat-desc'; desc.textContent = `${count} item(s) • Budget-friendly ≤ ₹${BUDGET}`;
        titleWrap.appendChild(title); titleWrap.appendChild(desc);
        catHead.appendChild(titleWrap);

        const actions = document.createElement('div');
        catHead.appendChild(actions);
        catBlock.appendChild(catHead);

        const grid = document.createElement('div'); grid.className='grid';
        const catItems = catalog.filter(i => i.category === cat);
        if(catItems.length === 0){
          const empty = document.createElement('div'); empty.className='empty'; empty.textContent = 'No items in this category.';
          grid.appendChild(empty);
        } else {
          catItems.forEach(item => grid.appendChild(createCard(item)));
        }
        catBlock.appendChild(grid);
        categoriesEl.appendChild(catBlock);
      });
    }

    function createCard(item){
      const card = document.createElement('article');
      card.className = 'card';
      card.setAttribute('data-id', item.id);

      const body = document.createElement('div'); body.className='body';
      const nm = document.createElement('h3'); nm.className='name'; nm.textContent = item.name;
      body.appendChild(nm);

      const priceRow = document.createElement('div'); priceRow.className='price-row';
      const price = document.createElement('div'); price.className='price';
      price.textContent = (item.price === null || item.price === undefined || item.price === '') ? 'Swap / Free' : '₹' + Number(item.price).toFixed(2);
      priceRow.appendChild(price);

      if(item.price !== null && item.price !== undefined && !isNaN(Number(item.price)) && Number(item.price) <= BUDGET){
        const b = document.createElement('div'); b.className='budget'; b.textContent='Budget-friendly';
        priceRow.appendChild(b);
      }

      const removeBtn = document.createElement('button'); removeBtn.className='remove'; removeBtn.textContent='Remove';
      removeBtn.addEventListener('click', ()=>{
        if(!confirm(`Remove "${item.name}" from catalog?`)) return;
        catalog = catalog.filter(x => x.id !== item.id);
        saveCatalog(catalog);
        renderCatalog();
      });
      priceRow.appendChild(removeBtn);

      body.appendChild(priceRow);
      card.appendChild(body);

      const imgWrap = document.createElement('div'); imgWrap.className='image-wrap';
      const img = document.createElement('img'); img.alt = item.name; img.loading='lazy';
      img.src = item.image || 'https://via.placeholder.com/600x400?text=No+Image';
      img.addEventListener('error', ()=> img.src = 'https://via.placeholder.com/600x400?text=No+Image');
      imgWrap.appendChild(img);
      card.appendChild(imgWrap);

      const meta = document.createElement('div'); meta.className='meta';
      meta.innerHTML = `<div style="color:var(--muted)">${item.notes || ''}</div>`;
      card.appendChild(meta);

      return card;
    }

    renderCatalog();

    /* ============================
       Demo controls: Reset samples
       ============================ */
    document.getElementById('demo-add-sample').addEventListener('click', ()=>{
      if(!confirm('Reset catalog to freshly generated sample items?')) return;
      catalog = createItems();
      saveCatalog(catalog);
      renderCatalog();
      alert('Catalog reset to sample items.');
    });

    // contact form handler
    const contactForm = document.getElementById('contact-form');
    contactForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = document.getElementById('c-name').value.trim();
      const email = document.getElementById('c-email').value.trim();
      const subject = document.getElementById('c-subject').value.trim() || 'Contact from Item Swap Marketplace';
      const message = document.getElementById('c-message').value.trim();
      const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\n${message}`);
      const mailto = `mailto:info@itemswap.example?subject=${encodeURIComponent(subject)}&body=${body}`;
      window.location.href = mailto;
    });
    document.getElementById('contact-reset').addEventListener('click', ()=> contactForm.reset());

    // Reset everything button
    document.getElementById('clearAll').addEventListener('click', ()=>{
      if(!confirm('Clear saved catalog and reset to sample items?')) return;
      localStorage.removeItem(SAMPLE_STORAGE_KEY);
      catalog = createItems();
      saveCatalog(catalog);
      renderCatalog();
      alert('Reset complete.');
    });

    // start on welcome
    showPage('welcome');
  </script>
</body>
</html>
